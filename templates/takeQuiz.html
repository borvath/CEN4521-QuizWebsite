{% extends "common.html" %}

{% block head %}
	{{ super() }}
	<link rel="stylesheet" href="{{ url_for('static', filename='styles/pages.css') }}" />
	<script src="{{ url_for('static', filename='scripts/takeQuiz.js') }}" type="application/javascript" defer></script>
{% endblock %}

{% block title %}Take Quiz{% endblock %}


{% block header %}
    {{ super() }}
{% endblock %}

{% block main %}
<a href="/" class="home-button" >Home</a>
    {% if quizzes is mapping %}
    <tr>
        <h1>{{ quizzes.name }}</h1>
        <br>
        <p><strong>Quiz Description: </strong>{{ quizzes.description }}</p>
        <br>
        <h2><center>Questions:</center></h2>
        {% for question in quizzes.questions %}
        <li>
            <h3>{{ question.question_text }}</h3>
            <ul>
                {% for answer in question.answers %}
                <li>
                    <input type="radio" name="question_{{ question.id }}" value="{{ answer.id }}">
                    {{ answer.answer_text }}
                </li>
                {% endfor %}
            </ul>
            
        </li>
        {% endfor %}
        <button type="submit" id="submit-quiz" onclick="submitQuiz()">Submit Quiz</button>
    </tr>
    
    {% else %}
    {% for quiz in quizzes %}
    {% for question in quiz.questions %}
    {% for answer in question.answers %}
        {% if answer.is_correct %}
            <tr>
                <td>{{ quiz.course }}</td>
                <td>{{ quiz.name }}</td>
                <td>{{ question.question_text }}</td>
                <td>{{ answer.answer_text }}</td>
            </tr>
        {% endif %}
    {% endfor %}
{% endfor %}
<button type="submit" id="submit-quiz" onclick="submitQuiz()">Submit Quiz</button>
    
        
    {% endfor %}
    {% endif %}
{% endblock %}